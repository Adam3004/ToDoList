#:import NoTransition kivy.uix.screenmanager.NoTransition

WindowManager:
    transition: NoTransition()
    ListWindow:
    GameWindow:

<ListWindow>:
    name: "list"
    canvas.before:
        Color:
            rgb: (0.557, 0.678, 0.863)
        Rectangle:
            pos: self.pos
            size: self.size

    BoxLayout:
        orientation: 'vertical'
        padding: 10
        BoxLayout:
            orientation: 'horizontal'
            Button:
                text: '2048'
                font_size: 32
                size_hint: None, None
                size: 100, 70
                background_normal:''
                background_color: (0.208, 0.373, 0.616,1)
                on_release:
                    app.root.current='game'

            Widget
            BoxLayout:
                orientation: 'horizontal'
                spacing: 10
                padding: [0,0,20,0]
                size_hint: None, None
                size: 100, 70
                Label:
                    id: points_cnt
                    font_size: 32
                    text: '20'
                BoxLayout:
                    Image:
                        source: '../gui/resources/icons/point.png'
                        size: self.parent.size

        BoxLayout:
            orientation: 'horizontal'
            spacing: 10
            padding: [390,-300,0,0]
            size_hint: None, None
            size: 100, 70
            Label:
                text: 'TO DO'
                font_size: 40
                bold: True
        BoxLayout:
            orientation: 'vertical'
            title: 'InputDialog'
            auto_dismiss: False
            padding: [300,-150,300,-20]
            id: test1
            BoxLayout:
                spacing: 10
                orientation: 'vertical'
                pos: self.pos
                size: root.size
                id: test2
                padding: [0,0,0,0]
                name: name
                date: date
                warning: warning
                Label:
                    text: 'Name'
                    font_size: 20
                    bold: True
                TextInput:
                    id: name
                    hint_text:'Enter text'
                    pos_hint: {'center_x': 0.5, 'center_y': 0.705}
                    size_hint: 0.95, 0.5
                Label:
                    text: 'Date'
                    font_size: 20
                    bold: True
                TextInput:
                    id: date
                    hint_text:'Enter text'
                    pos_hint: {'center_x': 0.5, 'center_y': 0.705}
                    size_hint: 0.95, 0.5

                Button:
                    id: f_but
                    size_hint: 0.6, 0.5
                    pos_hint: {"x":.2, "top":1}
                    text: 'Add task'
                    background_normal:''
                    background_color: (0.208, 0.373, 0.616,1)
                    on_press: root.check_status(name, date, warning)
                Label:
                    id: warning
                    text: warning.text
                    font_size: 20
                    bold: True
                    color: (0.499, 0.073, 0.016,1)

        ScrollView:
            do_scroll_x: False
            do_scroll_y: True
            bar_width: 10
            Label:
                size_hint_y: None
                height: self.texture_size[1]
                text_size: self.width, None
                padding: 10, 10
                text: 'task\n' * 100
        BoxLayout:
            orientation: "horizontal"
            Button:
                text: '+ add task'
                size_hint: None, None
                background_normal:''
                background_color: (1, 0.85, 0.17,1)
                size: 100, 70
                on_press: root.add_task()
            Widget
            Button:
                text: 'history'
                size_hint: None, None
                background_normal:''
                background_color: (0.208, 0.373, 0.616,1)
                size: 100, 70
                on_press: root.view_history()
            Widget
            Button:
                text: 'new theme'
                size_hint: None, None
                background_normal:''
                background_color: (0.208, 0.373, 0.616,1)
                size: 100, 70
                on_press: root.buy_item()

<GameWindow>:
    name: "game"
    canvas.before:
        Color:
            rgb: (0.557, 0.678, 0.863)
        Rectangle:
            pos: self.pos
            size: self.size

    BoxLayout:
        orientation: 'vertical'
        padding: 10
        BoxLayout:
            orientation: 'horizontal'
            Button:
                text: 'TO DO'
                font_size: 32
                size_hint: None, None
                size: 100, 70
                background_normal:''
                background_color: (0.208, 0.373, 0.616,1)
                on_release:
                    app.root.current='list'
            Widget
            Button:
                text: 'NEW GAME'
                font_size: 32
                size_hint: None, None
                size: 200, 70
                background_normal:''
                background_color: (0.208, 0.373, 0.616,1)
                on_release:
                    root.new_game()
            Widget
            BoxLayout:
                orientation: 'horizontal'
                spacing: 10
                padding: [0,0,20,0]
                size_hint: None, None
                size: 100, 70
                Label:
                    id: points_cnt
                    font_size: 32
                    text: '20'
                BoxLayout:
                    Image:
                        source: '../gui/resources/icons/point.png'
                        size: self.parent.size
        Label:
            text: root.instructions
            font_size: 32
            bold: True
        GridLayout:
            id: grid
            pos_hint: {'x': .25}
            cols:4
            rows:4
            size: 380,380
            size_hint_y: None
            size_hint_x: None
        Label:
            text: root.info
            font_size: 24
