#:import NoTransition kivy.uix.screenmanager.NoTransition

WindowManager:
    transition: NoTransition()
    ListWindow:
    GameWindow:

<ListWindow>:
    name: "list"
    canvas.before:
        Color:
            rgb: (0.557, 0.678, 0.863)
        Rectangle:
            pos: self.pos
            size: self.size
    BoxLayout:
        orientation: 'horizontal'
        padding: 40
        spacing: 0
        BoxLayout:
            orientation: 'vertical'
            size_hint: None, None
            size: 200, 500
            BoxLayout:
                orientation: 'vertical'
                size_hint: None, None
                size: 200, 160
                Button:
                    text: 'PLAY 2048'
                    font_size: 32
                    size_hint: None, None
                    size: 200, 70
                    background_normal:''
                    background_color: (0.208, 0.373, 0.616,1)
                    on_release:
                        app.root.current='game'
                Widget:
                    size_hint: None, None
                    size: 200, 20
                Button:
                    text: 'HISTORY'
                    font_size: 32
                    size_hint: None, None
                    background_normal:''
                    background_color: (0.208, 0.373, 0.616,1)
                    size: 200, 70
                    on_press: root.view_history()
            Widget:
                size_hint: None, None
                size: 200, 60
            BoxLayout:
                size_hint: None, None
                width: 200
                orientation: 'vertical'
                title: 'InputDialog'
                spacing: 10
                TextInput:
                    id: name
                    hint_text:'Enter name'
                    size_hint: None, None
                    size: 200,30
                TextInput:
                    id: date
                    hint_text:'Enter deadline'
                    size_hint: None, None
                    size: 200,30
                Button:
                    id: f_but
                    size_hint: None, None
                    size: 200, 30
                    text: 'ADD NEW TASK'
                    background_normal:''
                    background_color: (0.208, 0.373, 0.616,1)
                    on_press: root.prepare_task(name, date, warning)
                Widget:
                    size_hint: None, None
                    size: 200, 10
                Label:
                    id: warning
                    text: warning.text
                    font_size: 16
                    bold: True
                    color: (0.499, 0.073, 0.016,1)
            Widget:
                size_hint: None, None
                size: 200, 60
            BoxLayout:
                size_hint: None, None
                width: 200
                id: checkTaskBackG
                spacing: 10
                orientation: 'vertical'
                task_not_found: task_not_found
                Label:
                    text: 'Complete task'
                    font_size: 20
                    bold: True
                BoxLayout:
                    orientation: 'horizontal'
                    TextInput:
                        id: task_id
                        hint_text:'Task id'
                        size_hint: None, None
                        size: 150,30
                    Button:
                        id: complete
                        size_hint: None, None
                        size: 50,30
                        text: 'DONE'
                        background_normal:''
                        background_color: (0.208, 0.573, 0.616,1)
                        on_press: root.complete_task(task_id, task_not_found)
                Label:
                    id: task_not_found
                    text: task_not_found.text
                    font_size: 16
                    bold: True
                    color: (0.499, 0.073, 0.016,1)
            Widget:
                size_hint: None, None
                size: 200, 20
        Widget:
            size_hint: None, None
            size: 60, 500
        BoxLayout:
            orientation: 'vertical'
#            spacing: 10
#            size_hint: None, None
#            size: 100, 70
            Label:
                text: 'Your TO DO list'
                font_size: 32
                bold: True
            ScrollView:
                do_scroll_x: False
                do_scroll_y: True
                bar_width: 10
                size_hint: None, None
                size: 460, 460
                background_color: (0.208, 0.573, 0.616,1)
                Label:
                    size_hint_y: None
                    height: self.texture_size[1]
                    text_size: self.width, None
                    padding: 10, 10
                    text: root.toPrint
            BoxLayout:
                orientation: 'horizontal'
                Label:
                    text: "You have: "
                    font_size: 20
                AnchorLayout:
                    anchor_x: 'center'
                    anchor_y: 'center'
                    BoxLayout:
                        orientation: 'horizontal'
                        spacing: 10
                        padding: [0,0,20,0]
                        size_hint: None, None
                        size: 100, 70
                        Label:
                            id: points_cnt
                            font_size: 32
                            text: root.userPoints
                        BoxLayout:
                            Image:
                                source: '../gui/resources/icons/point.png'
                                size: self.parent.size
                Label:
                    text: "Each task: "
                    font_size: 20
                AnchorLayout:
                    anchor_x: 'center'
                    anchor_y: 'center'
                    BoxLayout:
                        orientation: 'horizontal'
                        spacing: 10
                        padding: [0,0,20,0]
                        size_hint: None, None
                        size: 100, 70
                        Label:
                            font_size: 32
                            text: "5"
                        BoxLayout:
                            Image:
                                source: '../gui/resources/icons/point.png'
                                size: self.parent.size


<GameWindow>:
    name: "game"
    canvas.before:
        Color:
            rgb: (0.557, 0.678, 0.863)
        Rectangle:
            pos: self.pos
            size: self.size

    BoxLayout:
        orientation: 'horizontal'
        padding: 40
        spacing: 0
        BoxLayout:
            orientation: 'vertical'
            size_hint: None, None
            size: 200, 500
            Button:
                text: 'TO DO'
                font_size: 32
                size_hint: None, None
                size: 200, 70
                background_normal:''
                background_color: (0.208, 0.373, 0.616,1)
                on_release:
                    app.root.current='list'

            Widget
            Button:
                text: 'NEW GAME'
                font_size: 32
                size_hint: None, None
                size: 200, 70
                background_normal:''
                background_color: (0.208, 0.373, 0.616,1)
                on_release:
                    root.new_game()
            Widget
            Label:
                font_size: 20
                text: 'You have:'
            Widget
            AnchorLayout:
                anchor_x: 'center'
                anchor_y: 'center'
                BoxLayout:
                    orientation: 'horizontal'
                    spacing: 10
                    padding: [0,0,20,0]
                    size_hint: None, None
                    size: 100, 70
                    Label:
                        font_size: 32
                        text: root.points_cnt
                    BoxLayout:
                        Image:
                            source: '../gui/resources/icons/point.png'
                            size: self.parent.size
            Widget
            Label:
                font_size: 20
                text: 'Change theme for:'
            Widget
            AnchorLayout:
                anchor_x: 'center'
                anchor_y: 'center'
                BoxLayout:
                    orientation: 'horizontal'
                    spacing: 10
                    padding: [0,0,20,0]
                    size_hint: None, None
                    size: 100, 70
                    Label:
                        font_size: 32
                        text: root.points_cost
                    BoxLayout:
                        Image:
                            source: '../gui/resources/icons/point.png'
                            size: self.parent.size
            Widget
            BoxLayout:
                orientation: "vertical"
            Spinner:
                id: spinner_id
                text: "choose theme"
                font_size: 20
                size: 200, 70
                size_hint: None, None
                background_normal:''
                background_color: (0.627, 0.537, 0,1)
                on_text: root.spinner_clicked(spinner_id.text)
            Button:
                id: change_button
                text: 'CHANGE'
                font_size: 32
                size_hint: None, None
                size: 200, 70
                strikethrough: True
                background_normal:''
                background_color: (0.078, 0.106, 0.169,1)
                on_release:
                    root.change_theme()
        Widget:
            size_hint: None, None
            size: 60, 500
        BoxLayout:
            orientation: 'vertical'
            Label:
                text: root.instructions
                font_size: 32
                bold: True
            GridLayout:
                id: grid
                cols:4
                rows:4
                size_hint: None, None
                size: 460,460
            Label:
                text: root.info
                font_size: 20


